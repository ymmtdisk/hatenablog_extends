function spanParentheses(e){$(e).each(function(){var e=$(this).html(),t=$(this).html(),n=[];$.each((t+"<").match(/<(".*?"|'.*?'|[^'"])*?>/gim),function(e,t){n.push(t)}),$.each(t.match(/([（](?:[^（）]*|[^（）]*[（][^）]*[）][^（）]*)[）])/gim),function(t,a){var o=!1,r=[];$.each(n,function(e,t){-1!=t.indexOf(a)&&(o=!0)}),o||r.includes(a)||(_t='<span class="parentheses">'+a+"</span>",e=e.replaceAll(a,_t),n.push(a))}),$(this).html(e)})}"undefined"!=typeof HatenaBookmarkCommentWidget&&(HatenaBookmarkCommentWidget.prototype.resizeIframeAll=function(){for(var e=document.getElementsByClassName("hatena-bookmark-comment-embed"),t=0;t<e.length;t++){var n=e[t].contentWindow.document,a=n.getElementsByClassName("hatena-bookmark-comment")[0].offsetHeight+3;e[t].style.height=a+"px"}}),jQuery(function(e){function t(){o.disconnect()}function n(t){t.match(/^\//)&&(t+="https://blog.ymmtdisk.jp");var n="https://b.hatena.ne.jp/entry/",a=e("<img />",{src:n+"image/"+t}),o="hateb_link ready";return e("<a/>",{href:n+t,class:o,target:"_blank"}).append(a)}var a=navigator.userAgent;a=a.indexOf("iPhone")>0||a.indexOf("iPod")>0||a.indexOf("Android")>0&&a.indexOf("Mobile")>0?"mobile":a.indexOf("iPad")>0||a.indexOf("Android")>0?"tablet":"pc",e("img").on("contextmenu",function(){return!1}),spanParentheses(".entry-content :header, .entry-content p, .entry-content li");var o=new MutationObserver(function(e){spanParentheses(".comment-content p, .comment-content li"),t()});if(o.observe(e(".comment-box").get(0),{childList:!0,subtree:!0}),e("a[href^='http']").each(function(){e(this).is('[href*="'+location.hostname+'"]')||e(this).attr({target:"_blank"}),e(this).is('[href*="amazon.co.jp"]')||e(this).is('[href*="amzn.to"]')?e(this).addClass("amzn_link"):e(this).is('[href*="d.hatena.ne.jp"]')?e(this).addClass("hatena_keyword"):e(this).addClass("external_link")}),e("a[href^='#']").click(function(){var t=400,n=e(this).attr("href"),o=e("#"==n||""==n?"html":n),r=0;e("#header")&&(r="pc"==a?-40:0);var i=o.offset().top+r;return e("body,html").animate({scrollTop:i},t,"swing"),!1}),e(".entry-content a").not(".keyword").not(".entry-see-more").each(function(t,a){var o=e(a);o.attr("href")&&0==o.attr("href").indexOf("#")||o.after(n(o.attr("href")))}),e(window).on("load",function(){e("a.hateb_link").each(function(t,n){e(n).removeClass("ready"),e(n).find("img").width()<=1&&e(n).hide()})}),e("sup[id^=fnref]").each(function(t,n){$ref=e(e(n).find("a").get(0));var a=e(".footnotes li"+$ref.attr("href").replace(":","\\:"));$ref.attr("title",a.text().slice(0,a.text().length-1)).text("["+$ref.text()+"]")}),e("a[href^='#f-']").each(function(t,n){e(n).addClass("hatena-footnote")}),e(".customized-footer .article-bottom-profile")){var r=e(".customized-footer");r.prepend(e(".customized-footer .article-bottom-profile"))}if(e("body").hasClass("page-entry")&&e("div.pager.pager-permalink.permalink")){r=e(".customized-footer");r.prepend(e("div.pager.pager-permalink.permalink").clone(!0))}});
